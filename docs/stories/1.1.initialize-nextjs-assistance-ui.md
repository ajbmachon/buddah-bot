# Story 1.1: Initialize Next.js Project with Assistance UI

## Status
Draft

## Story
**As a** developer,
**I want** to initialize a Next.js project with Assistance UI configured,
**so that** I have the foundation for building the chat interface.

## Acceptance Criteria
1. Next.js 14+ project initialized with App Router and TypeScript
2. `@assistant-ui/react` package installed and configured
3. Basic chat page renders with Assistance UI `<Thread>` component
4. Project runs locally on `localhost:3000`
5. `.gitignore` properly configured for Node.js projects
6. Initial commit created with project structure

## Tasks / Subtasks

- [ ] Task 1: Initialize Next.js project with required configuration (AC: 1, 4)
  - [ ] Run `npx create-next-app@latest` with flags: `--typescript --app --tailwind --eslint --no-src-dir`
  - [ ] Verify Next.js version is 15.5.4 (latest stable)
  - [ ] Verify TypeScript 5.9.3 is configured
  - [ ] Test dev server starts with `npm run dev` on port 3000

- [ ] Task 2: Install and configure Assistance UI and dependencies (AC: 2)
  - [ ] Install core packages: `npm install @assistant-ui/react@0.11.10`
  - [ ] Install Tailwind CSS 3.4.x: `npm install tailwindcss@3.4 postcss autoprefixer`
  - [ ] Verify all package versions match tech stack requirements
  - [ ] Verify no version conflicts in `package.json`

- [ ] Task 3: Create basic chat page with Assistance UI Thread component (AC: 3)
  - [ ] Create `app/(chat)/page.tsx` as client component
  - [ ] Implement `useDataStreamRuntime({ api: '/api/chat' })` hook
  - [ ] Wrap page in `AssistantRuntimeProvider` with runtime
  - [ ] Create placeholder `/api/chat` route returning 200 (to avoid runtime errors)
  - [ ] Verify page renders without errors at `localhost:3000`

- [ ] Task 4: Set up project structure and configuration files (AC: 1, 5)
  - [ ] Create `lib/` directory for shared utilities
  - [ ] Create `components/` directory for custom components
  - [ ] Ensure `.gitignore` includes: `node_modules/`, `.env*.local`, `.vercel/`, `.next/`
  - [ ] Create `.env.local.example` template file
  - [ ] Verify `next.config.js` and `tailwind.config.ts` exist with proper structure

- [ ] Task 5: Create initial Git repository and commit (AC: 6)
  - [ ] Initialize git repository: `git init`
  - [ ] Stage all files: `git add .`
  - [ ] Create initial commit: `git commit -m "feat: initialize Next.js project with Assistance UI"`
  - [ ] Verify clean git status after commit

## Dev Notes

### Tech Stack Requirements
[Source: docs/architecture/tech-stack.md]

**Critical Versions (MUST USE EXACT VERSIONS):**
- **Next.js**: 15.5.4 (App Router, latest stable Sep 2025)
- **TypeScript**: 5.9.3 (latest stable Oct 2025)
- **Assistance UI**: 0.11.10 (latest Oct 2025)
- **Tailwind CSS**: 3.4.x (v3 legacy - avoiding v4 migration complexity)
- **React**: Latest (Next.js will install React 19 canary)

**Installation Commands:**
```bash
# Core framework
npx create-next-app@latest buddah-bot --typescript --app --tailwind --eslint --no-src-dir

cd buddah-bot

# Install Assistance UI
npm install @assistant-ui/react@0.11.10

# Verify Tailwind is v3.4.x (should be auto-installed by create-next-app)
npm list tailwindcss
```

### Project Structure
[Source: docs/architecture/unified-project-structure.md]

**Required Directory Structure:**
```
buddah-bot/
├── app/
│   ├── (auth)/                      # Auth route group (future stories)
│   ├── (chat)/                      # Chat route group (THIS STORY)
│   │   └── page.tsx                 # Main chat interface
│   ├── api/
│   │   └── chat/
│   │       └── route.ts             # Placeholder for now
│   ├── layout.tsx                   # Root layout
│   └── globals.css                  # Global styles (Tailwind)
├── components/                      # Custom components (empty for now)
├── lib/                             # Shared utilities (empty for now)
├── public/                          # Static assets
├── .env.local.example               # Environment template
├── .gitignore                       # Git ignore rules
├── next.config.js                   # Next.js config
├── tailwind.config.ts               # Tailwind config
├── tsconfig.json                    # TypeScript config
└── package.json
```

**Route Groups:**
- `(auth)` and `(chat)` are route groups (don't affect URL)
- Organize related pages without impacting routing
- Create `(chat)` folder for this story, `(auth)` in future story

### Frontend Architecture
[Source: docs/architecture/frontend-architecture.md]

**Minimal Chat Page Implementation (THIS STORY):**
```typescript
// app/(chat)/page.tsx
"use client";

import { useDataStreamRuntime } from "@assistant-ui/react-data-stream";
import { AssistantRuntimeProvider } from "@assistant-ui/react";
import { Thread } from "@assistant-ui/react";

export default function ChatPage() {
  const runtime = useDataStreamRuntime({
    api: "/api/chat",
  });

  return (
    <AssistantRuntimeProvider runtime={runtime}>
      <main className="h-screen bg-gray-50">
        <div className="h-full flex flex-col">
          <Thread />
        </div>
      </main>
    </AssistantRuntimeProvider>
  );
}
```

**Placeholder API Route (prevents runtime errors):**
```typescript
// app/api/chat/route.ts
export async function POST(req: Request) {
  return new Response(
    JSON.stringify({ message: "Chat endpoint not yet implemented" }),
    { status: 200, headers: { "Content-Type": "application/json" } }
  );
}
```

### Coding Standards
[Source: docs/architecture/coding-standards.md]

**Critical Rules:**
1. **Use "use client" directive** for components using React hooks
2. **File naming conventions:**
   - Components: PascalCase (`Thread.tsx`, `Composer.tsx`)
   - API Routes: lowercase (`route.ts`)
   - Hooks: camelCase with 'use' prefix (`useThread`)
3. **Import order:** External packages first, then internal imports
4. **Keep it simple:** This is a 2-day MVP - avoid over-engineering

### Configuration Files

**Required `.gitignore` additions:**
```
# dependencies
node_modules/

# next.js
.next/
out/

# production
build/

# environment variables
.env*.local

# vercel
.vercel/

# typescript
*.tsbuildinfo
next-env.d.ts
```

**`.env.local.example` template:**
```bash
# Auth.js (future stories)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=

# Google OAuth (future stories)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Nous API (future stories)
NOUS_API_BASE_URL=https://api.nousresearch.com/v1
NOUS_API_KEY=
HERMES_MODEL=Hermes-4-405B

# Email (future stories - optional)
EMAIL_FROM=
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
```

### Important Notes from Previous Stories
- N/A (This is the first story)

### Testing

**Testing Strategy:**
[Source: docs/architecture/testing-strategy.md]

**Manual Testing for MVP:**
This story uses manual verification only. No automated tests required yet.

**Verification Checklist:**
- [ ] Navigate to `http://localhost:3000` - page loads without errors
- [ ] Browser console shows no errors
- [ ] Assistance UI Thread component renders (empty state is fine)
- [ ] Page displays gray background (from Tailwind)
- [ ] TypeScript compilation succeeds with no errors
- [ ] `npm run build` completes successfully

**Testing Philosophy:**
- 2-day MVP timeline prioritizes shipping over test coverage
- Manual validation sufficient for foundational setup
- Automated tests added in future iterations if needed

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-03 | 1.0 | Initial story creation | Scrum Master (Bob) |

## Dev Agent Record

### Agent Model Used
*(To be filled by dev agent during implementation)*

### Debug Log References
*(To be filled by dev agent during implementation)*

### Completion Notes List
*(To be filled by dev agent during implementation)*

### File List
*(To be filled by dev agent during implementation)*

## QA Results
*(To be filled by QA agent after implementation)*

---
